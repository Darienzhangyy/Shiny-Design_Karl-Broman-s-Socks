---
title: "hw4"
author: "Eclectic Eagle Scouts"
date: "November 12, 2015"
output: pdf_document
---


**Task 1**

To reproduce and improve Rasmus’ analyses of total socks and proportion of paired socks in Karl Broman's laundry, we create a web app that allows users to choose priors which returns eight histograms of prior and posterior distributions regarding number of total, odd, and paired socks. We also provide a table of posterior summary statistics of total socks, paired and odd socks and porption of paired socks given user chosen priors. 

We provide two paired priors for number of total socks and proportion of paired socks. Specifically, when a user chooses a negative binomial prior with user defined parameters `mu` and `sd`  for number of total socks, we would allow user to choose a beta prior with user defined parameters $\alpha$ and $\beta$ for proportion of paired socks. This way we allow prior number of total socks to be a postive integer which can be drawn from a negative binomimal distribution and prior of proportion of paired socks to be a percentage which can be drawn from a beta distribution with a positive number that is between 0 and 1. Besides, negative binomial and beta distributions are conjugate. On the other hand, when a user chooses a poisson prior with user defined parameters $\lambda$ for number of total socks, we would allow user to choose a truncated normal distribution for the same reason that number of total socks needs to be a positive integer and porportion of paired socks needs to be a positive number that is between 0 and 1. 

To implement the algorithm of ABC, we first create a prior function that allows user to choose priors as discussed above. We then calculate the priors for `n_pairs` (number of paired socks) and `n_odd` (number of odd socks) given user chosen hyperparameters to get prior distributions of `n_socks`(number of total socks) and `prop_pairs`(proportion of paired socks). We then simulate the data to create a column of simulated number of pairs, which can be used later to be compared with a user's input `n_paired` to get the rows to get the posterior distribution. The posterior function implements it by picking out the rows from the dataframe result from prior() where number of paired socks simulated equals number of pairs a user's input,`n_paired`. We then plot eight histograms of four variables of interest above (`n_pairs`, `n_odd`, `n_socks` and `prop_pairs`) and provide summary statistics for those four variables. Finally, the prediction of number of total socks and paired socks interacts with observed number of total and paired socks. Specifically, when total 11 singletons and 0 paired socks is observed , Our web app give a prediction of 44 total socks (19 pairs+6 odds) as mentioned in Rasmus’ bog. 

        
